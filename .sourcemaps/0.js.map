{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage),\r\n  ],\r\n  exports:[\r\n    LoginPage\r\n  ]\r\n})\r\nexport class LoginPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\r\nimport { GooglePlus } from \"@ionic-native/google-plus\";\r\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\r\nimport { LoginService } from \"../service/login.service\";\r\nimport { HomePage } from \"../home/home\";\r\nimport { LogInMeccapanPage } from \"../log-in-meccapan/log-in-meccapan\";\r\n\r\n/**\r\n * Generated class for the LoginPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n  userData: { email: any; name: any; uId: string; type: number; };\r\n\r\n  constructor(private loginService: LoginService, private fb: Facebook, private platform: Platform, private googlePlus: GooglePlus, public navCtrl: NavController, public navParams: NavParams) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n  }\r\n  goPageSingIn() {\r\n    this.navCtrl.push(LogInMeccapanPage)\r\n  }\r\n\r\n  SignInStandBy(provider) {\r\n    console.log(provider)\r\n    this.platform.ready().then(x => {\r\n      alert(\"ready\")\r\n      if (provider == \"GOOGLE\") {\r\n        alert(\"GOOGLE\")\r\n        //this.loginGoogle({ email: \"syafiq11a@gmail.com\", name: \"Syafiq\", type: 2, uId: \"1911575182192242\" })\r\n\r\n         this.SignInGoogle()\r\n      }\r\n      else if (provider == \"FACEBOOK\") {\r\n        alert(\"FACEBOOK\")\r\n        //this.loginFB({ email: \"syafiq11a@gmail.com\", name: \"Syafiq\", type: 3, uId: \"1911575182192242\" })\r\n\r\n         this.SignInFacebook()\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  SignInGoogle() {\r\n    this.googlePlus.login({}).then(y => {\r\n      this.userData = { email: y.email, name: y.displayName, uId: y.userId, type: 2 }\r\n      console.log(y)\r\n      this.loginGoogle(this.userData)\r\n    }).catch(() =>\r\n      alert(\"error\"))\r\n  }\r\n\r\n  \r\n  loginGoogle(form) {\r\n    this.loginService.postLoginGoogle(form).subscribe(x => {\r\n      if (x != null) {\r\n        console.log(\"loginGoogle Success\", x)\r\n        this.navCtrl.setRoot(HomePage)\r\n      }\r\n      else {\r\n        alert(\"error\")\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  SignInFacebook() {\r\n    this.fb.login(['public_profile', 'user_friends', 'email'])\r\n      .then((res: FacebookLoginResponse) => {\r\n        console.log('Logged into Facebook!', res.authResponse)\r\n        alert(\"success\")\r\n        if (res.status == \"connected\") {\r\n          this.fb.api('me?fields=id,email,first_name', []).then(profile => {\r\n            this.userData = { email: profile['email'], name: profile['first_name'], uId: res.authResponse.userID, type: 3 }\r\n            console.log(this.userData)\r\n            this.loginFB(this.userData)\r\n          })\r\n        }\r\n        else {\r\n          alert(\"error login FACEBOOK\")\r\n        }\r\n      })\r\n      .catch(e => console.log('Error logging into Facebook', e));\r\n  }\r\n\r\n  loginFB(form) {\r\n    this.loginService.postLoginFacebook(form).subscribe(x => {\r\n      if (x != null) {\r\n        console.log(\"loginFb Success\", x)\r\n        this.navCtrl.setRoot(HomePage)\r\n      }\r\n      else {\r\n        alert(\"error\")\r\n      }\r\n    })\r\n  }\r\n\r\n  SignOutFacebook() {\r\n    this.fb.logout().then(x => {\r\n      alert(\"logout\")\r\n    })\r\n  }\r\n}\r\n//  picture: profile['picture_large']['data']['url'],\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}